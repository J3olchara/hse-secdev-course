arseniizxc@compute-vm-2-4-50-ssd-1762272483591:~/hse-secdev-course$ make format
poetry run black .
All done! âœ¨ ðŸ° âœ¨
81 files left unchanged.
poetry run isort .
Skipped 2 files
poetry run pre-commit run --all-files
fix end of files.........................................................Passed
trim trailing whitespace.................................................Passed
check for merge conflicts................................................Passed
check json...........................................(no files to check)Skipped
check yaml...............................................................Passed
mixed line ending........................................................Passed
black....................................................................Passed
isort....................................................................Passed
ruff.....................................................................Passed
arseniizxc@compute-vm-2-4-50-ssd-1762272483591:~/hse-secdev-course$ make rebuild
docker compose up --build app
[+] Building 79.4s (28/34)
 => [internal] load local bake definitions                                                     0.0s
 => => reading from stdin 999B                                                                 0.0s
 => [app internal] load build definition from Dockerfile                                       0.0s
 => => transferring dockerfile: 1.57kB                                                         0.0s
 => [migrations] resolve image config for docker-image://docker.io/docker/dockerfile:1.4       0.2s
 => CACHED [app] docker-image://docker.io/docker/dockerfile:1.4@sha256:9ba7531bd80fb0a8586327  0.0s
 => [app internal] load .dockerignore                                                          0.0s
 => => transferring context: 191B                                                              0.0s
 => [app internal] load build definition from Dockerfile                                       0.0s
 => => transferring dockerfile: 1.57kB                                                         0.0s
 => [migrations internal] load .dockerignore                                                   0.0s
 => => transferring context: 191B                                                              0.0s
 => [migrations internal] load build definition from Dockerfile                                0.1s
 => => transferring dockerfile: 1.57kB                                                         0.0s
 => [migrations internal] load metadata for docker.io/library/python:3.11-slim                 0.0s
 => CACHED [app runtime 1/7] FROM docker.io/library/python:3.11-slim                           0.0s
 => [app internal] load build context                                                          0.1s
 => => transferring context: 36.32kB                                                           0.0s
 => CACHED [migrations builder 2/7] WORKDIR /app                                               0.0s
 => [app builder 3/7] RUN apt-get update && apt-get install -y --no-install-recommends     c  24.5s
 => [migrations internal] load build context                                                   0.1s
 => => transferring context: 36.32kB                                                           0.0s
 => [migrations runtime 2/7] RUN apt-get update && apt-get install -y --no-install-recommends  9.7s
 => [migrations runtime 3/7] RUN groupadd -r appuser && useradd -r -g appuser -u 1000 appuser  0.6s
 => [app runtime 4/7] WORKDIR /app                                                             0.2s
 => [app builder 4/7] RUN curl -sSL https://install.python-poetry.org | python3 - &&     ln   25.9s
 => [app builder 5/7] COPY pyproject.toml poetry.lock* ./                                      0.2s
 => [migrations builder 6/7] RUN poetry install --no-root --no-interaction --no-ansi --only m  7.6s
 => [app builder 7/7] COPY . .                                                                 3.9s
 => [app runtime 5/7] COPY --from=builder --chown=appuser:appuser /app/.venv /app/.venv        1.9s
 => [migrations runtime 6/7] COPY --chown=appuser:appuser . .                                  0.2s
 => [app runtime 7/7] RUN chmod -R 755 /app &&     chmod -R 500 /app/app                      13.5s
 => [migrations] exporting to image                                                            0.8s
 => => exporting layers                                                                        0.7s
 => => writing image sha256:3a3c94fdafb6e16008059b51517e05596db6d7a5435966ca0b4a84d21dc7afce   0.0s
 => => naming to docker.io/library/hse-secdev-course-migrations                                0.0s
 => [app] exporting to image                                                                   0.7s
 => => exporting layers                                                                        0.7s
 => => writing image sha256:7c3ea644f3579c49a9ae641b260c197d8e973a0061d05e21d635eac29d80f4db   0.0s
 => => naming to docker.io/library/hse-secdev-course-app                                       0.0s
 => [app] resolving provenance for metadata file                                               0.0s
 => [migrations] resolving provenance for metadata file                                        0.0s
[+] Running 5/5
 âœ” hse-secdev-course-migrations              Built                                             0.0s
 âœ” hse-secdev-course-app                     Built                                             0.0s
 âœ” Container hse-secdev-course-postgres-1    Runni...                                          0.0s
 âœ” Container hse-secdev-course-migrations-1  Rec...                                            0.2s
 âœ” Container hse-secdev-course-app-1         Recreated                                         0.3s
Attaching to app-1
app-1  | INFO:     Started server process [1]
app-1  | INFO:     Waiting for application startup.
app-1  | INFO:     Application startup complete.
app-1  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
app-1  | INFO:     127.0.0.1:43426 - "GET /health HTTP/1.1" 200 OK
app-1  | INFO:     127.0.0.1:44816 - "GET /health HTTP/1.1" 200 OK
app-1  | INFO:     127.0.0.1:37090 - "GET /health HTTP/1.1" 200 OK
